<html>
<body onload="keywordSelected()">

	<div id="monitorForm">
	<h3>Select what to monitor:</h3>

	<form name="monitor_event" action="./processMonitor.php" onsubmit="return keywordSelected()" method="post">
		<ul>
			<li>
				<select id="monitor_type" name="monitor_type" onchange="keywordSelected()">
					<option value="keyword">Keyword</option>
					<option value="http" selected>HTTP</option>
				</select>
			</li>
			<li>
				<label for="host">URL:</label>
				<input type="text" id="host" name="host" value="http://" required/>
			</li>
			<li>
				<label for="name">Name:</label>
				<input type="text" id="name" name="name" required/>
			</li>
			<li id="keywordText">
				<label for="keyword">Keyword:</label>
				<input type="text" id="keyword" name="keyword"/>
			</li>
			<li id="keywordExistOptions">
				<label for="alert_keyword">Alert when:</label>
				<select id="keyword_option" name="keyword_option" onchange="keywordSelected()">
					<option value="exists">keyword exists</option>
					<option value="doesNotExist">keyword does not exist</option>
				</select>
			</li>
			<li>
				<input type="submit" name="submit" value="Submit">
			</li>
		</ul>
	</form>
	</div>

	<script>
		//when keyword is selected, change visibility of options and required fields
		function keywordSelected() {
			var monitor_selected = document.getElementById("monitor_type").value;
			if (monitor_selected === "keyword") {
				document.getElementById("keywordText").style.visibility = "visible";
				document.getElementById("keywordExistOptions").style.visibility = "visible";
				document.getElementById("keyword").setAttribute("required", "");
			} else {
				document.getElementById("keywordText").style.visibility = "hidden";
				document.getElementById("keywordExistOptions").style.visibility = "hidden";
				document.getElementById("keyword").removeAttribute("required");
			}
		}
	</script>

</body>
</html>